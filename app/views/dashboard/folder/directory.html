
{{#folder}}

{{^root}}
{{> close-button}}
{{/root}}

{{#root}}
  <div class="folder-container" style="position:relative;top:-7px">
    <a class="line" href="{{{base}}}/client{{#blog.client}}/{{client.name}}{{/blog.client}}">
      <span class="label">Folder</span>
      {{^blog.client}}
      <span class="link">Sync the folder</span>
      {{/blog.client}}
      {{#blog.client}}
      <span class="center">
        <img width="16" height="16" src="{{#cdn}}/images/sync/{{blog.client}}.svg{{/cdn}}" />
        {{client.display_name}}
        <span class="link" style="margin-left: 12px;">Edit</span>

      </span>
      {{/blog.client}}
    </a>
    <div class="folder-corner"></div>
    <div class="folder-top"></div>
    {{/root}}

    <div class="folder-box {{#root}}root{{/root}} {{#directory}}directory{{/directory}}" style="position:relative;{{^root}}min-height:calc(100vh - 11rem){{/root}}" data-upload-url="{{{base}}}/folder/upload" data-csrf-token="{{csrftoken}}">
    <div class="folder-drop-target" aria-hidden="true" style="display:none;position:absolute;inset:0;z-index:10;align-items:center;justify-content:center;background:rgba(0, 112, 232, 0.08);border:2px dashed rgba(0, 112, 232, 0.6);border-radius:6px;color:var(--text-color);font-weight:600;pointer-events:none;">Drop files to upload</div>
    {{#directory}}
    <table class="directory-list {{^contents.length}}empty{{/contents.length}}">
        <thead style="height: 1.4em;">
          <tr>
            <th>Name</th>
            <th>Date modified</th>
            <th>Size</th>
          </tr>
        </thead>
        <tbody class="live-updates">
      
          {{^contents.length}}
          <tr>
            <td colspan="3" style="vertical-align: middle;">
              <small style="display: flex;flex-grow: 1;
              font-size: 14px;
              text-align: center;{{#directory}}min-height: 300px;{{/directory}}
              color: var(--light-text-color);justify-content: center;">  
                <span style="align-self: center; text-align: center;display: block;">
                  {{#root}}Folder is empty.<br>{{^blog.client}}<a style="display: inline;" href="{{{base}}}/client">Sync the folder</a>{{/blog.client}}{{/root}}
                  {{^root}}There is nothing here.{{/root}}
                </span>
              </small>
            </td>
          </tr>
          {{/contents.length}}
      
          {{#contents}}
          <tr>
            <td>
              <a href="{{{base}}}/folder{{{url}}}" class="{{#directory}}directory{{/directory}} {{#entry}}entry{{/entry}}">
      
            {{#directory}}
            <span class="icon-folder"></span>
            {{/directory}}
            {{^directory}}  
            {{#entry}}    
            <span class="icon-file-check"></span>
            {{/entry}}
            {{^entry}}
            <span class="icon-file"></span>
            {{/entry}}
            {{/directory}}
            <span class="truncate">{{name}}</span></a>
            </td>
            <td data-sort="{{unix}}">{{modified}}</td>
            <td data-sort="{{#directory}}0{{/directory}}{{^directory}}{{bytes}}{{/directory}}">{{#directory}}--{{/directory}}{{^directory}}{{size}}{{/directory}}</td>
          </tr>
          {{/contents}}
        </table>

      <div class="upload-preview-modal" hidden>
        <div class="upload-preview-modal-backdrop" data-upload-modal-close></div>
        <div class="upload-preview-modal-dialog" role="dialog" aria-modal="true" aria-labelledby="upload-preview-title">
          <h2 id="upload-preview-title">Review upload</h2>
          <ul class="upload-preview-list" data-upload-list="queued"></ul>

          <div class="buttons upload-preview-actions">
            <button type="button" data-upload-action="upload">Upload</button>
            <button type="button" data-upload-action="cancel">Cancel</button>
          </div>
        </div>
      </div>
        
            {{/directory}}

  </div>
{{#blog.client}}
{{#directory}}
<a href="{{{base}}}/client" class="status-link" style="{{^root}}border:1px solid var(--border-color);{{/root}}border-radius: 0 0 6px 6px;">
  {{> sync-status}}
</a>
{{/directory}}
{{/blog.client}}
</div>
{{/folder}}
